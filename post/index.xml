<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Posts on Molingran's blog</title><link>https://blog.molingran.com/post/</link><description>Recent content in Posts on Molingran's blog</description><generator>Hugo -- gohugo.io</generator><language>zh-cn</language><lastBuildDate>Thu, 15 Dec 2022 00:02:22 +0800</lastBuildDate><atom:link href="https://blog.molingran.com/post/index.xml" rel="self" type="application/rss+xml"/><item><title>我的新冠</title><link>https://blog.molingran.com/p/my-covid-19/</link><pubDate>Thu, 15 Dec 2022 00:02:22 +0800</pubDate><guid>https://blog.molingran.com/p/my-covid-19/</guid><description>&lt;h2 id="t-2-周日">T-2 周日&lt;/h2>
&lt;p>晚上偶然间发现额头发热，但是四肢的温度正常。体温计测得温度为 36.2℃，正常。&lt;/p>
&lt;h2 id="t-1-周一">T-1 周一&lt;/h2>
&lt;p>凌晨 5 点被热醒，温度计测得温度为 38.6 ℃。并且带有明显的头晕脑涨，喉咙感觉非常干，像是在撒哈拉沙漠里似的，喝多少水都还是干的。于是果断向上司请假。吃了颗散利痛接着睡觉了。&lt;/p>
&lt;p>一直睡到下午 3 点，公司领导得知我的情况后决定给发给我 3 盒抗原检测试剂盒，感谢领导的照顾，不然现在我还以为只是重感冒。强撑着解决了几个线上 bug 后就躺床睡觉了。&lt;/p>
&lt;p>晚上测了一下结果是阴性。发热依然有但是减轻了很多，头晕依然存在。睡前吃了颗散利痛和喝了一下 999 感冒灵后睡觉了。&lt;/p>
&lt;p>&lt;strong>999 感冒灵和散利痛的有效成分都有对乙酰氨基酚，一起吃会超标的。不要学我！&lt;/strong>&lt;/p>
&lt;p>服药总结&lt;br>
散利痛 1 颗&lt;br>
999 感冒灵 1 包&lt;/p>
&lt;p>进食总结&lt;br>
忘记了&lt;br>
反正吃啥都没滋味，不是完全丧失，但是也只是能尝出基本的味道而已。&lt;/p>
&lt;h2 id="t-0-周二">T-0 周二&lt;/h2>
&lt;p>今天依旧头晕 + 喉咙痛，散利痛+小柴胡一起喝。早上处理完线上漏洞后就一直睡觉，睡醒了就喝水，然后接着睡。对啥都提不起兴趣，就想着赶紧睡觉。要是能拖进度条直接拖到恢复就好了。&lt;/p>
&lt;p>下午测了一下抗原是阳性。一开始是 T 先出现，C 不出现，我以为失效了，结果几分钟之后 C 出现了。。。这不是重感冒，是新冠。那是谁传给我的呢，除了在家里和公司，在公众场所都有佩戴口罩。不过也不重要了，反正都当重感冒处理。&lt;/p>
&lt;p>服药总结&lt;br>
散利痛 3 颗&lt;br>
小柴胡 2 包西瓜霜含片若干&lt;/p>
&lt;p>进食总结&lt;br>
饼干 2 片&lt;br>
脐橙 2 个&lt;br>
酸奶 1 杯&lt;br>
猪杂汤饭 1 份（舍友带饭）&lt;br>
铝罐百事 2 瓶（冰镇！高糖！咖啡因！）&lt;/p>
&lt;h2 id="t1-周三">T+1 周三&lt;/h2>
&lt;p>今天居然 8 点多就起来了，并且精神不错，都能刷 B 站视频了。就是一坐在电脑前就开始头晕，一时之间分不清是新冠导致的还是懒狗。&lt;/p>
&lt;p>既然不发热和头晕停掉散利痛了，主线依然是睡了醒，醒了睡。&lt;/p>
&lt;p>让舍友帮忙买了瓶酒精来消毒，发现根本闻不到酒精味道了。听说味觉丧失得持续一个月，想想就心累。&lt;/p>
&lt;p>服药总结&lt;br>
小柴胡 2 包&lt;br>
西瓜霜含片若干&lt;/p>
&lt;p>进食总结&lt;br>
合味道 1 杯（终于能吃出点味道了）&lt;br>
苹果汁 1 L 皮蛋瘦肉粥 1.5 碗&lt;br>
干蒸 6 个&lt;/p>
&lt;h2 id="t2-周四">T+2 周四&lt;/h2>
&lt;p>今天 8 点多被闹钟吵醒了，喉咙不痛了，可是新的问题又来了——头晕。整个早上都在头晕，处理事可还行，但是要我搞点创造性的工作就寄了，集中不了注意力。&lt;/p>
&lt;p>中午吃了一包感冒灵，晚上再吃一颗散利痛吧。&lt;/p>
&lt;p>剩下的症状还有一些偶发的咳嗽和痰。&lt;/p>
&lt;p>服药总结 999 感冒灵 1 包散利痛 1 颗&lt;/p>
&lt;p>进食总结脐橙 1 个猪杂汤饭 1 份&lt;/p></description></item><item><title>g2 报错</title><link>https://blog.molingran.com/p/g2-error/</link><pubDate>Sun, 13 Nov 2022 19:02:21 +0800</pubDate><guid>https://blog.molingran.com/p/g2-error/</guid><description>&lt;img src="https://blog.molingran.com/p/g2-error/g2-err.png" alt="Featured image of post g2 报错" />&lt;p>G2 + Webpack5 本地开发无问题，打包后无限卡 Loading&lt;/p>
&lt;p>Uncaught TypeError: Cannot assign to read only property &amp;lsquo;constructor&amp;rsquo; of object &amp;lsquo;#&amp;lt;Group&amp;gt;&amp;rsquo;&lt;/p>
&lt;p>构建时加上 &lt;code>--no-module&lt;/code> 参数解决&lt;/p>
&lt;blockquote>
&lt;p>参考 &lt;a class="link" href="https://github.com/nklayman/vue-cli-plugin-electron-builder/issues/1089" target="_blank" rel="noopener"
>https://github.com/nklayman/vue-cli-plugin-electron-builder/issues/1089&lt;/a>&lt;/p>
&lt;/blockquote></description></item><item><title>vim 指令状态下删除或移动指定行</title><link>https://blog.molingran.com/p/vim-delete-or-move-set-line/</link><pubDate>Sun, 13 Nov 2022 16:45:20 +0800</pubDate><guid>https://blog.molingran.com/p/vim-delete-or-move-set-line/</guid><description>&lt;p>以下内容皆为指令状态下的操作，即需要先输入 &lt;code>:&lt;/code>&lt;/p>
&lt;h2 id="删除">删除&lt;/h2>
&lt;p>删除第 5 行&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vim" data-lang="vim">&lt;span class="line">&lt;span class="cl">&lt;span class="m">5&lt;/span>d&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>删除第 5 行至第 10 行&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vim" data-lang="vim">&lt;span class="line">&lt;span class="cl">&lt;span class="m">5&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="m">10&lt;/span>d&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>删除当前行至第 10 行&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vim" data-lang="vim">&lt;span class="line">&lt;span class="cl">.&lt;span class="p">,&lt;/span>&lt;span class="m">10&lt;/span>d&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>删除当前行至末尾行&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vim" data-lang="vim">&lt;span class="line">&lt;span class="cl">.&lt;span class="p">,&lt;/span>$&lt;span class="nx">d&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>删除当前文件所有行&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vim" data-lang="vim">&lt;span class="line">&lt;span class="cl">$&lt;span class="nx">d&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="移动">移动&lt;/h2>
&lt;p>移动一行&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vim" data-lang="vim">&lt;span class="line">&lt;span class="cl">&lt;span class="m">5&lt;/span> &lt;span class="nx">v&lt;/span> &lt;span class="m">20&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>移动多行&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vim" data-lang="vim">&lt;span class="line">&lt;span class="cl">&lt;span class="m">5&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="m">10&lt;/span> &lt;span class="nx">v&lt;/span> &lt;span class="m">20&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="复制">复制&lt;/h2>
&lt;p>复制一行&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vim" data-lang="vim">&lt;span class="line">&lt;span class="cl">&lt;span class="m">5&lt;/span> &lt;span class="nx">co&lt;/span> &lt;span class="m">20&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>复制多行&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vim" data-lang="vim">&lt;span class="line">&lt;span class="cl">&lt;span class="m">5&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="m">10&lt;/span> &lt;span class="nx">co&lt;/span> &lt;span class="m">20&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div></description></item><item><title>git 拉取子模块</title><link>https://blog.molingran.com/p/git-pull-submodule/</link><pubDate>Sun, 13 Nov 2022 16:42:20 +0800</pubDate><guid>https://blog.molingran.com/p/git-pull-submodule/</guid><description>&lt;ol>
&lt;li>首次拉取的时候可以加上 &lt;code>--recursive&lt;/code> 参数&lt;/li>
&lt;/ol>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">git clone --recursive 仓库地址
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ol start="2">
&lt;li>如果已经将仓库克隆到本地了，想拉子模块&lt;/li>
&lt;/ol>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">git submodule update --init --recursive
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ol start="3">
&lt;li>更新子模块&lt;/li>
&lt;/ol>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">git submodule update --recursive
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div></description></item><item><title>极空间安装 Home Assistant 并集成米家与 HomeKit</title><link>https://blog.molingran.com/p/home-assistant/</link><pubDate>Sat, 03 Sep 2022 16:18:39 +0800</pubDate><guid>https://blog.molingran.com/p/home-assistant/</guid><description>&lt;img src="https://blog.molingran.com/p/home-assistant/mijia.webp" alt="Featured image of post 极空间安装 Home Assistant 并集成米家与 HomeKit" />&lt;p>集成之后可以在控制中心中直接控制灯类与开关类电器，无需再打开米家 App。&lt;br>
可以先浏览最底部的参考资料的视频，大致了解一下整个集成的难度再来决定是否入这个坑。&lt;/p>
&lt;h2 id="开启-docker-服务-与下载镜像">开启 Docker 服务 与下载镜像&lt;/h2>
&lt;p>首先开启极空间中的 &lt;code>Docker&lt;/code> 服务。 &lt;img src="https://blog.molingran.com/p/home-assistant/docker-in-z4.webp"
width="2024"
height="1548"
srcset="https://blog.molingran.com/p/home-assistant/docker-in-z4_huf21fe8a6fb2b5c9bf7063aef6bccce89_119626_480x0_resize_q75_h2_box_2.webp 480w, https://blog.molingran.com/p/home-assistant/docker-in-z4_huf21fe8a6fb2b5c9bf7063aef6bccce89_119626_1024x0_resize_q75_h2_box_2.webp 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="130"
data-flex-basis="313px"
>&lt;/p>
&lt;p>下载 &lt;code>Home Assistant&lt;/code> 镜像，选择下载第一个。&lt;br>
&lt;img src="https://blog.molingran.com/p/home-assistant/down-ha-image.webp"
width="2024"
height="1548"
srcset="https://blog.molingran.com/p/home-assistant/down-ha-image_hu9032d7a6921b9122018c61173c6f4af5_57304_480x0_resize_q75_h2_box_2.webp 480w, https://blog.molingran.com/p/home-assistant/down-ha-image_hu9032d7a6921b9122018c61173c6f4af5_57304_1024x0_resize_q75_h2_box_2.webp 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="130"
data-flex-basis="313px"
>&lt;/p>
&lt;p>下载完后在本地镜像中双击打开刚下载的镜像。&lt;br>
&lt;img src="https://blog.molingran.com/p/home-assistant/start-install.webp"
width="2024"
height="1548"
srcset="https://blog.molingran.com/p/home-assistant/start-install_hud23375dc63f9bb6a8d404f56ccb9fee5_48050_480x0_resize_q75_h2_box_2.webp 480w, https://blog.molingran.com/p/home-assistant/start-install_hud23375dc63f9bb6a8d404f56ccb9fee5_48050_1024x0_resize_q75_h2_box_2.webp 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="130"
data-flex-basis="313px"
>&lt;/p>
&lt;h2 id="安装-ha">安装 HA&lt;/h2>
&lt;h3 id="启动容器">启动容器&lt;/h3>
&lt;p>基本设置保持默认即可。 &lt;img src="https://blog.molingran.com/p/home-assistant/set-basic.webp"
width="2024"
height="1548"
srcset="https://blog.molingran.com/p/home-assistant/set-basic_hu9bf4b380e10d06c62371b4edf14e004a_48718_480x0_resize_q75_h2_box_2.webp 480w, https://blog.molingran.com/p/home-assistant/set-basic_hu9bf4b380e10d06c62371b4edf14e004a_48718_1024x0_resize_q75_h2_box_2.webp 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="130"
data-flex-basis="313px"
>&lt;/p>
&lt;p>目录建议按照 &lt;code>Docker/{应用名称}/{映射目录}&lt;/code> 的规则进行设置&lt;br>
&lt;img src="https://blog.molingran.com/p/home-assistant/set-dir.webp"
width="2024"
height="1548"
srcset="https://blog.molingran.com/p/home-assistant/set-dir_hua6eed3167c78a640f14c50b67447b30d_45812_480x0_resize_q75_h2_box_2.webp 480w, https://blog.molingran.com/p/home-assistant/set-dir_hua6eed3167c78a640f14c50b67447b30d_45812_1024x0_resize_q75_h2_box_2.webp 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="130"
data-flex-basis="313px"
>&lt;/p>
&lt;p>网络需要设置为 &lt;code>host&lt;/code> 否则之后无法添加到 HomeKit&lt;br>
选中 bridge -&amp;gt; 点击 更换 -&amp;gt; 选中 host -&amp;gt; 确定 &lt;img src="https://blog.molingran.com/p/home-assistant/set-host.webp"
width="2024"
height="1548"
srcset="https://blog.molingran.com/p/home-assistant/set-host_hu1cb042164af833e2a29bef1636d35dca_37488_480x0_resize_q75_h2_box_2.webp 480w, https://blog.molingran.com/p/home-assistant/set-host_hu1cb042164af833e2a29bef1636d35dca_37488_1024x0_resize_q75_h2_box_2.webp 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="130"
data-flex-basis="313px"
> &lt;img src="https://blog.molingran.com/p/home-assistant/set-network.webp"
width="2024"
height="1548"
srcset="https://blog.molingran.com/p/home-assistant/set-network_hu9cb1a1115bf3d0b8b52156283ae99cfe_42458_480x0_resize_q75_h2_box_2.webp 480w, https://blog.molingran.com/p/home-assistant/set-network_hu9cb1a1115bf3d0b8b52156283ae99cfe_42458_1024x0_resize_q75_h2_box_2.webp 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="130"
data-flex-basis="313px"
>&lt;/p>
&lt;p>端口由于使用了 host，就不设置了。 &lt;img src="https://blog.molingran.com/p/home-assistant/set-port.webp"
width="2024"
height="1548"
srcset="https://blog.molingran.com/p/home-assistant/set-port_hu4526d7186bc9d522364a77acca747f33_45224_480x0_resize_q75_h2_box_2.webp 480w, https://blog.molingran.com/p/home-assistant/set-port_hu4526d7186bc9d522364a77acca747f33_45224_1024x0_resize_q75_h2_box_2.webp 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="130"
data-flex-basis="313px"
>&lt;/p>
&lt;p>点击 应用 ，启动容器。&lt;/p>
&lt;h3 id="修改配置">修改配置&lt;/h3>
&lt;p>由于默认端口被极空间占用，因此需要修改配置文件来制定其他的端口。&lt;br>
等待日志中出现错误后停止容器，下载配置文件进行修改。&lt;br>
&lt;img src="https://blog.molingran.com/p/home-assistant/log-error.webp"
width="2160"
height="1548"
srcset="https://blog.molingran.com/p/home-assistant/log-error_hu8a1f2a7fcd07c5e7bdf478adbeac694f_82726_480x0_resize_q75_h2_box_2.webp 480w, https://blog.molingran.com/p/home-assistant/log-error_hu8a1f2a7fcd07c5e7bdf478adbeac694f_82726_1024x0_resize_q75_h2_box_2.webp 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="139"
data-flex-basis="334px"
>&lt;/p>
&lt;p>配置文件路径如下。&lt;br>
&lt;img src="https://blog.molingran.com/p/home-assistant/configuration-path.webp"
width="2160"
height="1548"
srcset="https://blog.molingran.com/p/home-assistant/configuration-path_hua24127c2f26133d7e15853d4dc59a392_81996_480x0_resize_q75_h2_box_2.webp 480w, https://blog.molingran.com/p/home-assistant/configuration-path_hua24127c2f26133d7e15853d4dc59a392_81996_1024x0_resize_q75_h2_box_2.webp 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="139"
data-flex-basis="334px"
>&lt;/p>
&lt;p>下载到本地，修改成如下内容。然后再上传到之前的文件夹中，覆盖原文件。&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-yml" data-lang="yml">&lt;span class="line">&lt;span class="cl">&lt;span class="c"># Configure a default setup of Home Assistant (frontend, api, etc)&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">default_config&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c"># Text to speech&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">tts&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">platform&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">google_translate&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c">#group: !include groups.yaml&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">automation&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>!&lt;span class="l">include automations.yaml&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>!&lt;span class="l">include scripts.yaml&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">scene&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>!&lt;span class="l">include scenes.yaml&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">http&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c"># 下面这个是端口号，修改成自己喜欢的就行。&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">server_port&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="m">8848&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>点击容器概况-&amp;gt;home assistant 容器的 更多-&amp;gt;重启，对容器进行重启。&lt;br>
&lt;img src="https://blog.molingran.com/p/home-assistant/restart.webp"
width="2160"
height="1548"
srcset="https://blog.molingran.com/p/home-assistant/restart_hua3f494ebf568fdabc6cfc9f45142e471_68218_480x0_resize_q75_h2_box_2.webp 480w, https://blog.molingran.com/p/home-assistant/restart_hua3f494ebf568fdabc6cfc9f45142e471_68218_1024x0_resize_q75_h2_box_2.webp 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="139"
data-flex-basis="334px"
>&lt;/p>
&lt;p>重启容器之后，如果无法用 &lt;code>http://{nas的IP}:{你设置的端口}&lt;/code> 打开的话。建议复制日志，检查是否出现端口冲突错误。错误关键字如下，其中 8123 就是冲突的端口号&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">[Errno 98] error while attempting to bind on address (&amp;#39;0.0.0.0&amp;#39;, 8123): address in use
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;img src="https://blog.molingran.com/p/home-assistant/port-error.webp"
width="1342"
height="124"
srcset="https://blog.molingran.com/p/home-assistant/port-error_hucbfd1d0bf08af51efb34da4fcce0174e_21078_480x0_resize_q75_h2_box_2.webp 480w, https://blog.molingran.com/p/home-assistant/port-error_hucbfd1d0bf08af51efb34da4fcce0174e_21078_1024x0_resize_q75_h2_box_2.webp 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="1082"
data-flex-basis="2597px"
>&lt;/p>
&lt;p>一切顺利的话，你将看到这个欢迎界面。根据提示输入用户名和密码创建账户，一定要记住，这个没的重置只有重装的。 &lt;img src="https://blog.molingran.com/p/home-assistant/onboarding.webp"
width="2366"
height="1858"
srcset="https://blog.molingran.com/p/home-assistant/onboarding_huf61e520afbbe340e7641410b79755b24_50768_480x0_resize_q75_h2_box_2.webp 480w, https://blog.molingran.com/p/home-assistant/onboarding_huf61e520afbbe340e7641410b79755b24_50768_1024x0_resize_q75_h2_box_2.webp 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="127"
data-flex-basis="305px"
>&lt;/p>
&lt;p>剩下的都直接下一步即可。&lt;br>
&lt;img src="https://blog.molingran.com/p/home-assistant/onboarding2.webp"
width="2366"
height="2248"
srcset="https://blog.molingran.com/p/home-assistant/onboarding2_hub80de9eadb22f034979e4250bd706611_111092_480x0_resize_q75_h2_box_2.webp 480w, https://blog.molingran.com/p/home-assistant/onboarding2_hub80de9eadb22f034979e4250bd706611_111092_1024x0_resize_q75_h2_box_2.webp 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="105"
data-flex-basis="252px"
> &lt;img src="https://blog.molingran.com/p/home-assistant/onboarding3.webp"
width="2366"
height="1934"
srcset="https://blog.molingran.com/p/home-assistant/onboarding3_hu24a3a7ad508652777ed664ae2fd3757a_68970_480x0_resize_q75_h2_box_2.webp 480w, https://blog.molingran.com/p/home-assistant/onboarding3_hu24a3a7ad508652777ed664ae2fd3757a_68970_1024x0_resize_q75_h2_box_2.webp 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="122"
data-flex-basis="293px"
>&lt;/p>
&lt;p>成功进入首页，Home Assistant 安装成功。&lt;br>
&lt;img src="https://blog.molingran.com/p/home-assistant/home.webp"
width="2488"
height="2066"
srcset="https://blog.molingran.com/p/home-assistant/home_hu2872401c582c7e30d5f34a51aa6844e3_42652_480x0_resize_q75_h2_box_2.webp 480w, https://blog.molingran.com/p/home-assistant/home_hu2872401c582c7e30d5f34a51aa6844e3_42652_1024x0_resize_q75_h2_box_2.webp 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="120"
data-flex-basis="289px"
>&lt;/p>
&lt;h2 id="集成米家与-homekit">集成米家与 HomeKit&lt;/h2>
&lt;h3 id="安装-hacs">安装 HACS&lt;/h3>
&lt;p>HACS 为您提供了一个强大的 UI 来处理您所有自定义需求的下载。&lt;/p>
&lt;h4 id="一键安装">一键安装&lt;/h4>
&lt;p>如果 Nas 访问 GitHub 通畅的话，直接使用官网提供的 HACS 安装脚本，使用 SSH 安装即可。&lt;/p>
&lt;p>但是如果访问尚有困难，请直接参考 &lt;a class="link" href="./#%e6%89%8b%e5%8a%a8%e5%ae%89%e8%a3%85" >手动安装&lt;/a>&lt;/p>
&lt;p>以下是自动安装的内容。首先打开 SSH（终端） &lt;img src="https://blog.molingran.com/p/home-assistant/into-ssh.webp"
width="1490"
height="232"
srcset="https://blog.molingran.com/p/home-assistant/into-ssh_hu0eb30fbc4e4aa697710b013c5110cde7_15978_480x0_resize_q75_h2_box_2.webp 480w, https://blog.molingran.com/p/home-assistant/into-ssh_hu0eb30fbc4e4aa697710b013c5110cde7_15978_1024x0_resize_q75_h2_box_2.webp 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="642"
data-flex-basis="1541px"
>&lt;/p>
&lt;p>在终端中 Ctrl+V 粘贴下面这个指令。按回车，执行指令。&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">wget -O - https://get.hacs.xyz &lt;span class="p">|&lt;/span> bash -
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;img src="https://blog.molingran.com/p/home-assistant/ssh-install-hacs.webp"
width="2160"
height="1548"
srcset="https://blog.molingran.com/p/home-assistant/ssh-install-hacs_hu753ae1de65149179b849ec3e1c230d76_151578_480x0_resize_q75_h2_box_2.webp 480w, https://blog.molingran.com/p/home-assistant/ssh-install-hacs_hu753ae1de65149179b849ec3e1c230d76_151578_1024x0_resize_q75_h2_box_2.webp 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="139"
data-flex-basis="334px"
>&lt;/p>
&lt;p>看到控制台里输出说明安装成功了，接着就可以 &lt;a class="link" href="./#%e5%ba%94%e7%94%a8-hacs" >应用 HACS&lt;/a>。&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">Remember to restart Home Assistant before you configure it
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="手动安装">手动安装&lt;/h4>
&lt;p>如果你的网络环境不支持访问 GitHub 的话，还可以手动安装。&lt;/p>
&lt;p>先下载 hacs 的安装包，有两种下载方式。&lt;/p>
&lt;ol>
&lt;li>GitHub 官网下载，保证使用的是最新版的。 &lt;a class="link" href="https://github.com/hacs/integration/releases" target="_blank" rel="noopener"
>https://github.com/hacs/integration/releases&lt;/a>&lt;/li>
&lt;li>蓝奏云备份的，22 年 8 月 22 日更新的 1.27.1 版本。 &lt;a class="link" href="https://moreant.lanzoul.com/i3wA90ayutva" target="_blank" rel="noopener"
>https://moreant.lanzoul.com/i3wA90ayutva&lt;/a>&lt;/li>
&lt;/ol>
&lt;p>下载完成后，在 Docker 的文件中新增 &lt;code>custom_components&lt;/code> 文件夹。将下载的 hacs 安装包重命名为 &lt;code>hacs&lt;/code> &lt;strong>注意后缀名是否正确&lt;/strong>，上传至 custom_components 文件夹，解压。 &lt;img src="https://blog.molingran.com/p/home-assistant/unzip-hacs.webp"
width="2160"
height="1548"
srcset="https://blog.molingran.com/p/home-assistant/unzip-hacs_hu5df8ab89bc05c05f3a4d2d4e474f0c87_69586_480x0_resize_q75_h2_box_2.webp 480w, https://blog.molingran.com/p/home-assistant/unzip-hacs_hu5df8ab89bc05c05f3a4d2d4e474f0c87_69586_1024x0_resize_q75_h2_box_2.webp 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="139"
data-flex-basis="334px"
>&lt;/p>
&lt;h4 id="应用-hacs">应用 HACS&lt;/h4>
&lt;p>在 配置-&amp;gt;系统 页面中点击右上角的 重新启动 按钮。 &lt;img src="https://blog.molingran.com/p/home-assistant/restart-ha.webp"
width="2318"
height="2066"
srcset="https://blog.molingran.com/p/home-assistant/restart-ha_huf215d3b9d2eddc85f16abfa445b9393b_66878_480x0_resize_q75_h2_box_2.webp 480w, https://blog.molingran.com/p/home-assistant/restart-ha_huf215d3b9d2eddc85f16abfa445b9393b_66878_1024x0_resize_q75_h2_box_2.webp 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="112"
data-flex-basis="269px"
>&lt;/p>
&lt;p>左下角提示重启成功后，进入集成界面。 &lt;img src="https://blog.molingran.com/p/home-assistant/integrations.webp"
width="2318"
height="2066"
srcset="https://blog.molingran.com/p/home-assistant/integrations_hu08816d38100efa6ed9061d3045590f2a_84958_480x0_resize_q75_h2_box_2.webp 480w, https://blog.molingran.com/p/home-assistant/integrations_hu08816d38100efa6ed9061d3045590f2a_84958_1024x0_resize_q75_h2_box_2.webp 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="112"
data-flex-basis="269px"
>&lt;/p>
&lt;p>搜索并点击 HACS。 &lt;img src="https://blog.molingran.com/p/home-assistant/install-hacs.webp"
width="2318"
height="2066"
srcset="https://blog.molingran.com/p/home-assistant/install-hacs_huff39e83ffe1d1e43f89320b639713106_54524_480x0_resize_q75_h2_box_2.webp 480w, https://blog.molingran.com/p/home-assistant/install-hacs_huff39e83ffe1d1e43f89320b639713106_54524_1024x0_resize_q75_h2_box_2.webp 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="112"
data-flex-basis="269px"
>&lt;/p>
&lt;p>全部勾选，点击提交。 &lt;img src="https://blog.molingran.com/p/home-assistant/install-hacs-submit.webp"
width="2230"
height="1978"
srcset="https://blog.molingran.com/p/home-assistant/install-hacs-submit_hu5c81283bad56d2d239ab9d5567506f88_75284_480x0_resize_q75_h2_box_2.webp 480w, https://blog.molingran.com/p/home-assistant/install-hacs-submit_hu5c81283bad56d2d239ab9d5567506f88_75284_1024x0_resize_q75_h2_box_2.webp 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="112"
data-flex-basis="270px"
>&lt;/p>
&lt;p>复制下方代码，点击链接激活设备。 &lt;img src="https://blog.molingran.com/p/home-assistant/activation.webp"
width="2318"
height="2066"
srcset="https://blog.molingran.com/p/home-assistant/activation_hu56b40ca9d45b603b8f82d2abae85c424_64840_480x0_resize_q75_h2_box_2.webp 480w, https://blog.molingran.com/p/home-assistant/activation_hu56b40ca9d45b603b8f82d2abae85c424_64840_1024x0_resize_q75_h2_box_2.webp 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="112"
data-flex-basis="269px"
>&lt;/p>
&lt;p>粘贴代码，提交后点击授权即可。 &lt;img src="https://blog.molingran.com/p/home-assistant/device.webp"
width="2318"
height="2066"
srcset="https://blog.molingran.com/p/home-assistant/device_hucf521925d258fe7ce719543851a586a1_41042_480x0_resize_q75_h2_box_2.webp 480w, https://blog.molingran.com/p/home-assistant/device_hucf521925d258fe7ce719543851a586a1_41042_1024x0_resize_q75_h2_box_2.webp 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="112"
data-flex-basis="269px"
>&lt;/p>
&lt;p>回到 HA，点击完成 &lt;img src="https://blog.molingran.com/p/home-assistant/activation-finish.webp"
width="2318"
height="2066"
srcset="https://blog.molingran.com/p/home-assistant/activation-finish_hub1cb6435769598312558eabd1b861778_61464_480x0_resize_q75_h2_box_2.webp 480w, https://blog.molingran.com/p/home-assistant/activation-finish_hub1cb6435769598312558eabd1b861778_61464_1024x0_resize_q75_h2_box_2.webp 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="112"
data-flex-basis="269px"
>&lt;/p>
&lt;h3 id="集成米家">集成米家&lt;/h3>
&lt;p>点击左侧菜单的 HACS-&amp;gt;集成-&amp;gt;浏览并下载存储库，选择 Xiaomi Miot Auto，点击右下角的下载-&amp;gt;下载。 &lt;img src="https://blog.molingran.com/p/home-assistant/install-miot-auto.webp"
width="2376"
height="2054"
srcset="https://blog.molingran.com/p/home-assistant/install-miot-auto_hu543ee465de8dd82512c4d59f9bc5d922_134554_480x0_resize_q75_h2_box_2.webp 480w, https://blog.molingran.com/p/home-assistant/install-miot-auto_hu543ee465de8dd82512c4d59f9bc5d922_134554_1024x0_resize_q75_h2_box_2.webp 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="115"
data-flex-basis="277px"
>&lt;/p>
&lt;p>安装完成后点击左侧菜单的 HACS，点击等待重启中的前往 &lt;img src="https://blog.molingran.com/p/home-assistant/restart-miot.webp"
width="2376"
height="2054"
srcset="https://blog.molingran.com/p/home-assistant/restart-miot_hu6014546664ac547c3c36291772102fee_74612_480x0_resize_q75_h2_box_2.webp 480w, https://blog.molingran.com/p/home-assistant/restart-miot_hu6014546664ac547c3c36291772102fee_74612_1024x0_resize_q75_h2_box_2.webp 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="115"
data-flex-basis="277px"
>&lt;/p>
&lt;p>点击 重新启动-&amp;gt;重新启动，重启完成后左下角会显示重启完成。 &lt;img src="https://blog.molingran.com/p/home-assistant/restart-finish.webp"
width="2376"
height="2054"
srcset="https://blog.molingran.com/p/home-assistant/restart-finish_hu087bc187036c24e15f38a513715fecda_90248_480x0_resize_q75_h2_box_2.webp 480w, https://blog.molingran.com/p/home-assistant/restart-finish_hu087bc187036c24e15f38a513715fecda_90248_1024x0_resize_q75_h2_box_2.webp 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="115"
data-flex-basis="277px"
>&lt;/p>
&lt;p>回到之前添加 HACS 的界面，这次添加 Xiaomi Miot Auto 集成了。选择账号集成。 &lt;img src="https://blog.molingran.com/p/home-assistant/account.webp"
width="2336"
height="2142"
srcset="https://blog.molingran.com/p/home-assistant/account_huc2babe7493a33ca1b297ab67491e6c76_53974_480x0_resize_q75_h2_box_2.webp 480w, https://blog.molingran.com/p/home-assistant/account_huc2babe7493a33ca1b297ab67491e6c76_53974_1024x0_resize_q75_h2_box_2.webp 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="109"
data-flex-basis="261px"
>&lt;/p>
&lt;p>输入小米账号，会自动添加米家中已有的设备 &lt;img src="https://blog.molingran.com/p/home-assistant/xiaomi-account.webp"
width="2336"
height="2142"
srcset="https://blog.molingran.com/p/home-assistant/xiaomi-account_hu0c8a94e54e00b4386926d13a77de73ae_72522_480x0_resize_q75_h2_box_2.webp 480w, https://blog.molingran.com/p/home-assistant/xiaomi-account_hu0c8a94e54e00b4386926d13a77de73ae_72522_1024x0_resize_q75_h2_box_2.webp 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="109"
data-flex-basis="261px"
>&lt;/p>
&lt;p>根据需要排除或包含需要控制的设备 &lt;img src="https://blog.molingran.com/p/home-assistant/exclude.webp"
width="2248"
height="2054"
srcset="https://blog.molingran.com/p/home-assistant/exclude_hu856132d53a4160560c9e83fa64d71007_85154_480x0_resize_q75_h2_box_2.webp 480w, https://blog.molingran.com/p/home-assistant/exclude_hu856132d53a4160560c9e83fa64d71007_85154_1024x0_resize_q75_h2_box_2.webp 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="109"
data-flex-basis="262px"
>&lt;/p>
&lt;p>如果需要在 HA 控制就设置一下设备房间。HomeKit 是需要另外设置的。 &lt;img src="https://blog.molingran.com/p/home-assistant/set-room.webp"
width="2336"
height="2142"
srcset="https://blog.molingran.com/p/home-assistant/set-room_hu3fc7267cb4b1b5d2ae90ebdb687a1e5c_92842_480x0_resize_q75_h2_box_2.webp 480w, https://blog.molingran.com/p/home-assistant/set-room_hu3fc7267cb4b1b5d2ae90ebdb687a1e5c_92842_1024x0_resize_q75_h2_box_2.webp 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="109"
data-flex-basis="261px"
>&lt;/p>
&lt;p>恭喜，米家已经集成完毕&lt;/p>
&lt;p>&lt;img src="https://blog.molingran.com/p/home-assistant/miot-finish.webp"
width="3388"
height="2726"
srcset="https://blog.molingran.com/p/home-assistant/miot-finish_hu5fb13a3944a1c22d74f504f0b932d17d_219868_480x0_resize_q75_h2_box_2.webp 480w, https://blog.molingran.com/p/home-assistant/miot-finish_hu5fb13a3944a1c22d74f504f0b932d17d_219868_1024x0_resize_q75_h2_box_2.webp 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="124"
data-flex-basis="298px"
>&lt;/p>
&lt;h3 id="集成-homekit">集成 HomeKit&lt;/h3>
&lt;h4 id="添加设备">添加设备&lt;/h4>
&lt;p>HomeKit 集成就简单了，回到添加 HACS 与 Miot Auto 的界面。点击 HomeKit 的配置。 &lt;img src="https://blog.molingran.com/p/home-assistant/homekit-start.webp"
width="2772"
height="2142"
srcset="https://blog.molingran.com/p/home-assistant/homekit-start_hucee58ccea060eff5cdefc074233b44e7_75564_480x0_resize_q75_h2_box_2.webp 480w, https://blog.molingran.com/p/home-assistant/homekit-start_hucee58ccea060eff5cdefc074233b44e7_75564_1024x0_resize_q75_h2_box_2.webp 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="129"
data-flex-basis="310px"
>&lt;/p>
&lt;p>直接提交。继续提交。区域随便选一个。完成。 &lt;img src="https://blog.molingran.com/p/home-assistant/homekit-submit.webp"
width="2772"
height="2142"
srcset="https://blog.molingran.com/p/home-assistant/homekit-submit_hubd2284e7251d234d11f494c93988fa68_75660_480x0_resize_q75_h2_box_2.webp 480w, https://blog.molingran.com/p/home-assistant/homekit-submit_hubd2284e7251d234d11f494c93988fa68_75660_1024x0_resize_q75_h2_box_2.webp 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="129"
data-flex-basis="310px"
>&lt;/p>
&lt;p>点击左下的通知，使用手机里的家庭中的“添加或扫描配件”，扫描这个二维码即可添加米家的设备了。 &lt;img src="https://blog.molingran.com/p/home-assistant/homekie-scan.webp"
width="2772"
height="2142"
srcset="https://blog.molingran.com/p/home-assistant/homekie-scan_huebceb28c964763c69015e4d2cfe4f4ab_57930_480x0_resize_q75_h2_box_2.webp 480w, https://blog.molingran.com/p/home-assistant/homekie-scan_huebceb28c964763c69015e4d2cfe4f4ab_57930_1024x0_resize_q75_h2_box_2.webp 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="129"
data-flex-basis="310px"
>&lt;/p>
&lt;h4 id="设置设备">设置设备&lt;/h4>
&lt;p>扫描二维码。&lt;br>
&lt;img src="https://blog.molingran.com/p/home-assistant/homekit-add.webp"
width="828"
height="896"
srcset="https://blog.molingran.com/p/home-assistant/homekit-add_huf585e4c5ad8ce7b36bbca1059aa55de2_31908_480x0_resize_q75_h2_box_2.webp 480w, https://blog.molingran.com/p/home-assistant/homekit-add_huf585e4c5ad8ce7b36bbca1059aa55de2_31908_1024x0_resize_q75_h2_box_2.webp 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="92"
data-flex-basis="221px"
>&lt;/p>
&lt;p>仍然添加。&lt;br>
&lt;img src="https://blog.molingran.com/p/home-assistant/homekit-add-device.webp"
width="828"
height="1792"
srcset="https://blog.molingran.com/p/home-assistant/homekit-add-device_hu37239ddb813c0e22cc674df00aebf097_33028_480x0_resize_q75_h2_box_2.webp 480w, https://blog.molingran.com/p/home-assistant/homekit-add-device_hu37239ddb813c0e22cc674df00aebf097_33028_1024x0_resize_q75_h2_box_2.webp 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="46"
data-flex-basis="110px"
>&lt;/p>
&lt;p>如果不小心添加到不需要的配件，可以新建一个房间集中放置这些配件。并且移出在“常用配件”中。 &lt;img src="https://blog.molingran.com/p/home-assistant/homekit-remove.webp"
width="828"
height="1792"
srcset="https://blog.molingran.com/p/home-assistant/homekit-remove_hufbddc6f5734473ae8cb5ae84ae156570_37228_480x0_resize_q75_h2_box_2.webp 480w, https://blog.molingran.com/p/home-assistant/homekit-remove_hufbddc6f5734473ae8cb5ae84ae156570_37228_1024x0_resize_q75_h2_box_2.webp 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="46"
data-flex-basis="110px"
>&lt;/p>
&lt;h2 id="参考资料">参考资料&lt;/h2>
&lt;blockquote>
&lt;blockquote>
&lt;p>&lt;a class="link" href="https://post.smzdm.com/p/az370qk5/" target="_blank" rel="noopener"
>Home Assistant 篇二：群晖 Docker 安装 Home Assistant&lt;em>NAS 存储&lt;/em>什么值得买&lt;/a>&lt;br>
&lt;a class="link" href="https://b23.tv/eRkzaE3" target="_blank" rel="noopener"
>7 分钟学会搭建 homeassistant，米家设备免费接入 HomeKit-哔哩哔哩&lt;/a>&lt;/p>
&lt;/blockquote>
&lt;/blockquote></description></item><item><title>gradle 中国镜像</title><link>https://blog.molingran.com/p/gradle-china-cdn/</link><pubDate>Mon, 22 Aug 2022 13:12:55 +0800</pubDate><guid>https://blog.molingran.com/p/gradle-china-cdn/</guid><description>&lt;p>备忘一下&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-ini" data-lang="ini">&lt;span class="line">&lt;span class="cl">&lt;span class="na">downloads.gradle-dn.com&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div></description></item><item><title>解决 IDEA JVM 编译中文乱码</title><link>https://blog.molingran.com/p/resolve-idea-jvm-build-chinese-garbled-code/</link><pubDate>Mon, 22 Aug 2022 13:12:55 +0800</pubDate><guid>https://blog.molingran.com/p/resolve-idea-jvm-build-chinese-garbled-code/</guid><description>&lt;img src="https://blog.molingran.com/p/resolve-idea-jvm-build-chinese-garbled-code/idea-jvm-build-chinese-garbled-code.webp" alt="Featured image of post 解决 IDEA JVM 编译中文乱码" />&lt;h2 id="1-打开自定义-vm-配置">1. 打开自定义 VM 配置&lt;/h2>
&lt;p>Help -&amp;gt; Edit Custom VM Options&amp;hellip;&lt;/p>
&lt;p>&lt;img src="https://blog.molingran.com/p/resolve-idea-jvm-build-chinese-garbled-code/edit_custom_vm_options.webp"
width="1292"
height="845"
srcset="https://blog.molingran.com/p/resolve-idea-jvm-build-chinese-garbled-code/edit_custom_vm_options_hu74077f6b6b705ce2715063d6761914b8_45334_480x0_resize_q75_h2_box_2.webp 480w, https://blog.molingran.com/p/resolve-idea-jvm-build-chinese-garbled-code/edit_custom_vm_options_hu74077f6b6b705ce2715063d6761914b8_45334_1024x0_resize_q75_h2_box_2.webp 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="152"
data-flex-basis="366px"
>&lt;/p>
&lt;h2 id="2-输入以下内容">2. 输入以下内容&lt;/h2>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-ini" data-lang="ini">&lt;span class="line">&lt;span class="cl">&lt;span class="na">-Dfile.encoding&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">UTF-8&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="3-重启-idea">3. 重启 IDEA&lt;/h2>
&lt;p>File -&amp;gt; Invalidate Caches&amp;hellip; -&amp;gt; Just restart&lt;/p></description></item><item><title>Windows JDK 环境变量配置</title><link>https://blog.molingran.com/p/windows-jdk-path/</link><pubDate>Mon, 25 Apr 2022 10:18:22 +0800</pubDate><guid>https://blog.molingran.com/p/windows-jdk-path/</guid><description>&lt;p>系统变量新建 JAVA_HOME,值是 jdk 路径&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">C:\java-se-8u41-ri
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>Path 加上，如果上一个没分号就加上分号。如果是 Windows10 就不用带分号，写两条。&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">%JAVA_HOME%\bin;%JAVA_HOME%\jre\bin;
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div></description></item><item><title>Tomcat 设置环境变量</title><link>https://blog.molingran.com/p/tomcat-set-env/</link><pubDate>Mon, 25 Apr 2022 10:17:22 +0800</pubDate><guid>https://blog.molingran.com/p/tomcat-set-env/</guid><description>&lt;p>在 tomcat 的 bin 目录下新建 setenv 文件， Linux 系统用 sh, Windows 系统用 bat&lt;/p>
&lt;p>setenv.sh&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-ini" data-lang="ini">&lt;span class="line">&lt;span class="cl">&lt;span class="na">JAVA_OPTS&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;$JAVA_OPTS -Dspring.profiles.active=dev -Dfile.encoding=UTF-8&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>setenv.bat&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-ini" data-lang="ini">&lt;span class="line">&lt;span class="cl">&lt;span class="na">set &amp;#34;JAVA_OPTS&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">%JAVA_OPTS% -Dfile.encoding=UTF-8 -Dlog4j2.formatMsgNoLookups=true -Dspring.profiles.active=dev&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div></description></item><item><title>Windows 远程时提示 CredSSP 加密数据库修正。</title><link>https://blog.molingran.com/p/win-remote-credssp/</link><pubDate>Sat, 13 Nov 2021 10:30:15 +0800</pubDate><guid>https://blog.molingran.com/p/win-remote-credssp/</guid><description>&lt;img src="https://blog.molingran.com/p/win-remote-credssp/error-img.webp" alt="Featured image of post Windows 远程时提示 CredSSP 加密数据库修正。" />&lt;h2 id="1-打开策略控制台">1. 打开策略控制台&lt;/h2>
&lt;p>Win + R 打开运行，执行以下指令&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">gpedit.msc
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>打开：计算机设置-&amp;gt;管理模板-&amp;gt;系统-&amp;gt;凭据分配-&amp;gt;加密数据库修正&lt;/p>
&lt;p>&lt;img src="https://blog.molingran.com/p/win-remote-credssp/setting-postiton.webp"
width="1094"
height="619"
srcset="https://blog.molingran.com/p/win-remote-credssp/setting-postiton_hua0b0d6da87da373530c78a8038a3a2c1_75128_480x0_resize_q75_h2_box_2.webp 480w, https://blog.molingran.com/p/win-remote-credssp/setting-postiton_hua0b0d6da87da373530c78a8038a3a2c1_75128_1024x0_resize_q75_h2_box_2.webp 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="176"
data-flex-basis="424px"
>&lt;/p>
&lt;p>修改为：已启用-&amp;gt;易受攻击&lt;br>
&lt;img src="https://blog.molingran.com/p/win-remote-credssp/setting.webp"
width="694"
height="645"
srcset="https://blog.molingran.com/p/win-remote-credssp/setting_hu525e0d061eb21c9a0810e7f96b93556a_51514_480x0_resize_q75_h2_box_2.webp 480w, https://blog.molingran.com/p/win-remote-credssp/setting_hu525e0d061eb21c9a0810e7f96b93556a_51514_1024x0_resize_q75_h2_box_2.webp 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="107"
data-flex-basis="258px"
>&lt;/p>
&lt;blockquote>
&lt;p>来源&lt;br>
&lt;a class="link" href="https://www.cnblogs.com/jinanxiaolaohu/p/13111721.html" target="_blank" rel="noopener"
>https://www.cnblogs.com/jinanxiaolaohu/p/13111721.html&lt;/a>&lt;/p>
&lt;/blockquote></description></item><item><title>windows 任务栏图标变白</title><link>https://blog.molingran.com/p/win-task-white/</link><pubDate>Sat, 13 Nov 2021 09:23:15 +0800</pubDate><guid>https://blog.molingran.com/p/win-task-white/</guid><description>&lt;p>如描述&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">ie4uinit.exe -show
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;blockquote>
&lt;p>来源&lt;br>
&lt;a class="link" href="https://www.365jz.com/article/24741" target="_blank" rel="noopener"
>https://www.365jz.com/article/24741&lt;/a>&lt;/p>
&lt;/blockquote></description></item><item><title>解决 Git Bash 中文乱码</title><link>https://blog.molingran.com/p/git-cn-code/</link><pubDate>Sun, 07 Nov 2021 23:06:06 +0800</pubDate><guid>https://blog.molingran.com/p/git-cn-code/</guid><description>&lt;img src="https://blog.molingran.com/p/git-cn-code/p1.webp" alt="Featured image of post 解决 Git Bash 中文乱码" />&lt;h2 id="1-git-log-乱码">1. git log 乱码&lt;/h2>
&lt;p>&lt;code>git log&lt;/code> 出现乱码，直接更新到最新版本即可，打开 Git Bash 输入以下内容更新。&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">git update-git-for-windows
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="2-git-bash-中文输入异常">2. git bash 中文输入异常&lt;/h2>
&lt;p>git bash 输入中文之后删除的话会出现异常，如下&lt;br>
&lt;img src="https://blog.molingran.com/p/git-cn-code/p1.webp"
width="612"
height="237"
srcset="https://blog.molingran.com/p/git-cn-code/p1_huc96e031db5acbb1ebb68b6bdacdc0dc9_12504_480x0_resize_q75_h2_box_2.webp 480w, https://blog.molingran.com/p/git-cn-code/p1_huc96e031db5acbb1ebb68b6bdacdc0dc9_12504_1024x0_resize_q75_h2_box_2.webp 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="258"
data-flex-basis="619px"
>&lt;/p>
&lt;p>解决办法如下，在 bash 中执行以下指令编辑 ~/.bashrc 文件&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">touch ~/.bashrc
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>粘贴以下内容&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="nb">export&lt;/span> &lt;span class="nv">LC_ALL&lt;/span>&lt;span class="o">=&lt;/span>zh_CN.UTF-8
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>按 &lt;code>Esc&lt;/code> 键退出编辑模式，按 &lt;code>:&lt;/code> 键盘进入指令模式，输入 &lt;code>x&lt;/code> 回车，保存并退出。&lt;/p>
&lt;p>重启 git bash 即可正常输入中文。&lt;/p>
&lt;h2 id="3-git-status-中文乱码">3. git status 中文乱码&lt;/h2>
&lt;p>&lt;img src="https://blog.molingran.com/git-status-cn.png"
loading="lazy"
>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">git config --global core.quotepath &lt;span class="nb">false&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div></description></item><item><title>ssh 自动登录（使用 IdentityFile）</title><link>https://blog.molingran.com/p/ssh-auto-login/</link><pubDate>Wed, 29 Sep 2021 23:09:11 +0800</pubDate><guid>https://blog.molingran.com/p/ssh-auto-login/</guid><description>&lt;img src="https://blog.molingran.com/p/ssh-auto-login/ssh.webp" alt="Featured image of post ssh 自动登录（使用 IdentityFile）" />&lt;p>&lt;strong>以下指令都是在 Git Bash 中的操作。&lt;/strong>&lt;/p>
&lt;h2 id="切换到用户文件夹下的-ssh-目录">切换到用户文件夹下的 .ssh 目录。&lt;/h2>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="nb">cd&lt;/span> ~/.ssh
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>如果没有就使用指令 &lt;code>mkdir ~/.ssh&lt;/code> 新建一个&lt;/p>
&lt;h2 id="生成-ssh-key">生成 ssh key。&lt;/h2>
&lt;p>如果你已经生成过 key，可以忽略此步。这将生成名为 &lt;code>id_rsa.pub&lt;/code> 的 &lt;strong>公钥&lt;/strong> 和 &lt;code>id_rsa&lt;/code> 的 &lt;strong>私钥&lt;/strong>。&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">ssh-keygen
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>可以加上 &lt;code>-f keyname&lt;/code> 生成一个名为 &lt;code>keyname&lt;/code> 的 key&lt;/p>
&lt;h2 id="把公钥文件拷贝到指定的服务器">把公钥文件拷贝到指定的服务器&lt;/h2>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">ssh-copy-id root@hostname
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>可以加上 &lt;code>-i keyname&lt;/code> 指定拷贝到服务器的密钥&lt;/p>
&lt;h2 id="配置服务器别名">配置服务器别名&lt;/h2>
&lt;p>这个步骤是可选的，可以省略输入用户名和主机名。&lt;br>
新建 config 文件。&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">touch ~/.ssh/config
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>文件内填入以下内容，注意缩进！&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-ini" data-lang="ini">&lt;span class="line">&lt;span class="cl">&lt;span class="na">HOST sshname&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">HostName hostname&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">## 如果用户是 root，可以不指定&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">user myname&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">## 如果使用的不是默认的key，需要指定 key 的路径&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">IdentityFile ~/.ssh/keyname&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>之后就可以在 Git Bash 中用 &lt;code>ssh sshname&lt;/code> 登录了&lt;/p>
&lt;blockquote>
&lt;p>参考资料：&lt;br>
&lt;a class="link" href="https://segmentfault.com/q/1010000002445731" target="_blank" rel="noopener"
>https://segmentfault.com/q/1010000002445731&lt;/a>&lt;/p>
&lt;/blockquote></description></item><item><title>Vite 项目启动 esbuild 异常</title><link>https://blog.molingran.com/p/vite-strat-esbuild-install-error/</link><pubDate>Mon, 30 Aug 2021 01:23:15 +0800</pubDate><guid>https://blog.molingran.com/p/vite-strat-esbuild-install-error/</guid><description>&lt;img src="https://blog.molingran.com/p/vite-strat-esbuild-install-error/terminal-error.webp" alt="Featured image of post Vite 项目启动 esbuild 异常" />&lt;h2 id="问题描述">问题描述&lt;/h2>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">➜ frontend git:(master) ✗ npm run dev
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&amp;gt; frontend@0.0.0 dev
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&amp;gt; vite
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">/Users/moreant/work/mpcb/frontend/node_modules/esbuild/bin/esbuild:2
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">throw new Error(`esbuild: Failed to install correctly
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">^
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Error: esbuild: Failed to install correctly
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Make sure you don&amp;#39;t have &amp;#34;ignore-scripts&amp;#34; set to true. You can check this with
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&amp;#34;npm config get ignore-scripts&amp;#34;. If that returns true you can reset it back to
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">false using &amp;#34;npm config set ignore-scripts false&amp;#34; and then reinstall esbuild.
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">If you&amp;#39;re using npm v7, make sure your package-lock.json file contains either
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&amp;#34;lockfileVersion&amp;#34;: 1 or the code &amp;#34;hasInstallScript&amp;#34;: true. If it doesn&amp;#39;t have
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">either of those, then it is likely the case that a known bug in npm v7 has
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">corrupted your package-lock.json file. Regenerating your package-lock.json file
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">should fix this issue.
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;img src="https://blog.molingran.com/p/vite-strat-esbuild-install-error/terminal-error.webp"
width="1276"
height="738"
srcset="https://blog.molingran.com/p/vite-strat-esbuild-install-error/terminal-error_hua85c7dd1682f774fa08a2c375b2f0ee5_105560_480x0_resize_q75_h2_box_2.webp 480w, https://blog.molingran.com/p/vite-strat-esbuild-install-error/terminal-error_hua85c7dd1682f774fa08a2c375b2f0ee5_105560_1024x0_resize_q75_h2_box_2.webp 1024w"
loading="lazy"
alt="控制台报错"
class="gallery-image"
data-flex-grow="172"
data-flex-basis="414px"
>&lt;/p>
&lt;h2 id="解决方法">解决方法&lt;/h2>
&lt;p>执行以下指令来手动安装 &lt;code>esbuild&lt;/code>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-zsh" data-lang="zsh">&lt;span class="line">&lt;span class="cl">node node_modules/esbuild/install.js
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>然后就可以正常启动 Vite 项目了&lt;/p>
&lt;h2 id="参考资料">参考资料&lt;/h2>
&lt;blockquote>
&lt;p>&lt;a class="link" href="https://blog.csdn.net/m0_37682004/article/details/115001613" target="_blank" rel="noopener"
>1. vite 安装 vue 项目报错（Error: esbuild: Failed to install correctly）&lt;/a>&lt;br>
&lt;a class="link" href="https://github.com/evanw/esbuild/issues/462#issuecomment-782833191" target="_blank" rel="noopener"
>2. Broken install binary on macOS&lt;/a>&lt;/p>
&lt;/blockquote></description></item><item><title>m1 nvm 安装 node 异常</title><link>https://blog.molingran.com/p/m1-install-nvm-error/</link><pubDate>Fri, 27 Aug 2021 23:51:45 +0800</pubDate><guid>https://blog.molingran.com/p/m1-install-nvm-error/</guid><description>&lt;img src="https://blog.molingran.com/terminal-error.png" alt="Featured image of post m1 nvm 安装 node 异常" />&lt;h2 id="问题描述">问题描述&lt;/h2>
&lt;p>&lt;img src="https://blog.molingran.com/p/m1-install-nvm-error/terminal-error.webp"
width="1364"
height="966"
srcset="https://blog.molingran.com/p/m1-install-nvm-error/terminal-error_hu113f52ce2629d1d8e9cf38732c5aacf6_163162_480x0_resize_q75_h2_box_2.webp 480w, https://blog.molingran.com/p/m1-install-nvm-error/terminal-error_hu113f52ce2629d1d8e9cf38732c5aacf6_163162_1024x0_resize_q75_h2_box_2.webp 1024w"
loading="lazy"
alt="控制台报错"
class="gallery-image"
data-flex-grow="141"
data-flex-basis="338px"
>&lt;/p>
&lt;h2 id="解决方法">解决方法&lt;/h2>
&lt;p>需要先执行以下指令再进行安装&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">arch -x86_64 zsh
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>应该是因为 v14 及以前的版本不支持 arm 版本的处理器，所以需要使用 Rosetta 2 来进行安装。&lt;/p>
&lt;h2 id="参考资料">参考资料&lt;/h2>
&lt;blockquote>
&lt;p>&lt;a class="link" href="https://blog.csdn.net/longgege001/article/details/114067242" target="_blank" rel="noopener"
>mac M1 nvm 安装问题_CSDN&lt;/a>&lt;br>
&lt;a class="link" href="https://github.com/nvm-sh/nvm/issues/2350#issuecomment-734132550" target="_blank" rel="noopener"
>nvm install node fails to install on macOS Big Sur M1 Chip&lt;/a>&lt;/p>
&lt;/blockquote></description></item><item><title>Clash for Windows 在 macOS 安装后无法打开，提示损坏</title><link>https://blog.molingran.com/p/clash-fo-mac/</link><pubDate>Sat, 14 Aug 2021 04:02:21 +0800</pubDate><guid>https://blog.molingran.com/p/clash-fo-mac/</guid><description>&lt;img src="https://blog.molingran.com/p/clash-fo-mac/not-open.webp" alt="Featured image of post Clash for Windows 在 macOS 安装后无法打开，提示损坏" />&lt;p>网络下载应用被 Apple 添加隔离标识，终端执行以下命令解除即可：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-zsh" data-lang="zsh">&lt;span class="line">&lt;span class="cl">sudo xattr -r -d com.apple.quarantine /Applications/Clash&lt;span class="se">\ &lt;/span>&lt;span class="k">for&lt;/span>&lt;span class="se">\ &lt;/span>Windows.app
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>附上完整文档地址：&lt;br>
&lt;a class="link" href="https://docs.cfw.lbyczf.com/contents/questions.html" target="_blank" rel="noopener"
>https://docs.cfw.lbyczf.com/contents/questions.html&lt;/a>&lt;/p></description></item><item><title>Npm 换源</title><link>https://blog.molingran.com/p/npm-registry/</link><pubDate>Sat, 14 Aug 2021 01:53:02 +0800</pubDate><guid>https://blog.molingran.com/p/npm-registry/</guid><description>&lt;p>鉴于网上内容大部分过于啰嗦，故自己记录一下&lt;/p>
&lt;h2 id="查看当前源">查看当前源&lt;/h2>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">npm config get registry
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="淘宝源">淘宝源&lt;/h2>
&lt;ol>
&lt;li>本项目使用&lt;/li>
&lt;/ol>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">npm install --registry&lt;span class="o">=&lt;/span>https://registry.npmmirror.com
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ol start="2">
&lt;li>全局使用&lt;/li>
&lt;/ol>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">npm config &lt;span class="nb">set&lt;/span> registry https://registry.npmmirror.com
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;/p>
&lt;h2 id="官方源">官方源&lt;/h2>
&lt;ol>
&lt;li>本项目使用&lt;/li>
&lt;/ol>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">npm install --registry&lt;span class="o">=&lt;/span>https://registry.npmjs.org/
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ol start="2">
&lt;li>全局使用&lt;/li>
&lt;/ol>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">npm config &lt;span class="nb">set&lt;/span> registry https://registry.npmjs.org/
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div></description></item><item><title>大象已死</title><link>https://blog.molingran.com/p/the-elephant-is-dead/</link><pubDate>Thu, 15 Jul 2021 23:09:48 +0800</pubDate><guid>https://blog.molingran.com/p/the-elephant-is-dead/</guid><description>&lt;img src="https://blog.molingran.com/p/the-elephant-is-dead/under-the-dome.webp" alt="Featured image of post 大象已死" />&lt;p>回形针无了，感觉很可惜。&lt;br>
混乱博物馆也没了，感觉很意外。&lt;/p>
&lt;p>当年在寒假的最后一天看到了穹顶之下，觉得大有收获。&lt;br>
知道了什么是雾霾，知道了雾霾的危害。&lt;br>
就是其中有些内容感觉有些奇怪，比如能源市场化，怎么就能解决空气污染。&lt;/p>
&lt;p>在一个闲暇时刻，看到回形针更新了。第一时间点进去看完，好像是关于巴西雨林的。&lt;br>
果然是过度开采导致雨林减少了。&lt;br>
但是就是有点奇怪，巴西雨林过度开采，跟我吃肉蛋奶有什么关系。&lt;/p>
&lt;p>可惜就是不知道之后还能在哪里看到如此优秀的可视化科普，&lt;br>
意外就是混乱博物馆的内容其实并没有多公知。&lt;/p>
&lt;p>害，说明国人还是有能力做出优秀的高质量视频的，希望下一个“回形针”不要再吃美国狗粮了。&lt;/p></description></item><item><title>IDEA 项目启动报错 Command line is too long</title><link>https://blog.molingran.com/p/idea-command-line-is-too-long/</link><pubDate>Thu, 15 Jul 2021 10:10:00 +0800</pubDate><guid>https://blog.molingran.com/p/idea-command-line-is-too-long/</guid><description>&lt;h2 id="直接修改配置文件的方法">直接修改配置文件的方法&lt;/h2>
&lt;p>在项目的 .idea/workspace.xml 文件中，找到&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-xml" data-lang="xml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;component&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;PropertiesComponent&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>下面添加一行&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-xml" data-lang="xml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;property&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;dynamic.classpath&amp;#34;&lt;/span> &lt;span class="na">value=&lt;/span>&lt;span class="s">&amp;#34;true&amp;#34;&lt;/span> &lt;span class="nt">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="jar-的方法-推荐">JAR 的方法 （推荐）&lt;/h2>
&lt;p>最近又发现了一个新的办法，不需要记命令。具体方法如下&lt;/p>
&lt;ol>
&lt;li>On the edit configuration menu, click on modify options&lt;/li>
&lt;li>And then select Shorten command line&lt;/li>
&lt;li>Select JAR manifest option, apply &amp;amp; run&lt;/li>
&lt;/ol>
&lt;p>&lt;img src="https://blog.molingran.com/p/idea-command-line-is-too-long/setting.webp"
width="2978"
height="1692"
srcset="https://blog.molingran.com/p/idea-command-line-is-too-long/setting_hu1bdef9316131d9529aa38d0c2ff39587_91186_480x0_resize_q75_h2_box_2.webp 480w, https://blog.molingran.com/p/idea-command-line-is-too-long/setting_hu1bdef9316131d9529aa38d0c2ff39587_91186_1024x0_resize_q75_h2_box_2.webp 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="176"
data-flex-basis="422px"
>&lt;/p>
&lt;p>原帖地址： &lt;a class="link" href="https://stackoverflow.com/a/69349044/13621750" target="_blank" rel="noopener"
>https://stackoverflow.com/a/69349044/13621750&lt;/a>&lt;/p></description></item><item><title>Hello Hugo!</title><link>https://blog.molingran.com/p/hello-hugo/</link><pubDate>Sat, 10 Jul 2021 22:25:58 +0800</pubDate><guid>https://blog.molingran.com/p/hello-hugo/</guid><description>&lt;p>因为这个主题好看，我从 hexo 转到了 hugo。 Webify Test&lt;/p></description></item><item><title>解决控制台输出 unsafe-eval 错误</title><link>https://blog.molingran.com/p/unsafe-eval/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://blog.molingran.com/p/unsafe-eval/</guid><description>&lt;img src="https://blog.molingran.com/p/unsafe-eval/error_console.jpg" alt="Featured image of post 解决控制台输出 unsafe-eval 错误" />&lt;h2 id="前情提要">前情提要&lt;/h2>
&lt;p>之前测试环境一直使用的都是用 vue-cli 的 &lt;code>production&lt;/code> 模式构建的，由于需要区分测试和正式环境的配置文件，测试环境就改用 &lt;code>test&lt;/code> 模式来构建了。随后就出现了这个问题。&lt;/p>
&lt;h2 id="特征描述">特征描述&lt;/h2>
&lt;ol>
&lt;li>首屏加载无限 Loading - 推测是有 js 文件没能正常加载&lt;/li>
&lt;li>控制台报错&lt;br>
&lt;code>Uncaught EvalError: Refused to evaluate a string as JavaScript because 'unsafe-eval' is not an allowed source of script in the following Content Security Policy directive: &amp;quot;default-src 'self' http: https: ws: wss: data: blob: 'unsafe-inline'&amp;quot;.&lt;/code>&lt;/li>
&lt;/ol>
&lt;h2 id="解决思路">解决思路&lt;/h2>
&lt;p>看报错描述貌似是某个安全策略导致的。&lt;br>
搜索带有单引号的关键字，确定是因为响应头（Response Header）中的 &lt;code>Content-Security-Policy&lt;/code> 安全规则导致浏览器根据规则阻止了 JS 文件的加载。&lt;/p>
&lt;p>这个安全规则可以通过 HTML 中的 meta 标签携带，当然更多的是通过 Nginx 统一设置的。测试环境的 Nginx 配置是在 &lt;code>nginxconfig.io&lt;/code> 这个网站生成的，里面的 &lt;code>security.conf&lt;/code> 里有：&lt;/p>
&lt;p>&lt;code>default-src 'self' http: https: ws: wss: data: blob: 'unsafe-inline'; frame-ancestors 'self';&lt;/code>&lt;/p>
&lt;p>里面没有配置 &lt;code>'unsafe-eval'&lt;/code> 指令值，所以 JS 函数无法正常加载，导致首屏无限 Loading。&lt;/p>
&lt;h2 id="解决方案">解决方案&lt;/h2>
&lt;p>因为这个是测试环境出现的问题，直接注释掉这个响应头配置就行了。&lt;br>
正式环境的构建文件里没有使用到 eval 函数，自然不会被这个规则阻止。&lt;/p>
&lt;h2 id="相关参考">相关参考&lt;/h2>
&lt;blockquote>
&lt;p>&lt;a class="link" href="https://www.ruanyifeng.com/blog/2016/09/csp.html" target="_blank" rel="noopener"
>Content Security Policy 入门教程 - 阮一峰的网络日志&lt;/a>&lt;br>
&lt;a class="link" href="https://www.digitalocean.com/community/tools/nginx?global.app.lang=zhCN" target="_blank" rel="noopener"
>NGINXConfig | DigitalOcean&lt;/a>&lt;br>
&lt;a class="link" href="https://developer.mozilla.org/zh-CN/docs/Web/HTTP/Headers/Content-Security-Policy" target="_blank" rel="noopener"
>Content-Security-Policy - HTTP | MDN&lt;/a>&lt;/p>
&lt;/blockquote></description></item></channel></rss>